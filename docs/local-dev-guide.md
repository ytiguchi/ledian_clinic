# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã®ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºæ–¹æ³•

## âš ï¸ é‡è¦ãªæ³¨æ„ç‚¹

**`npm run dev`ï¼ˆAstroé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼‰ã§ã¯ã€API Routesï¼ˆ`/api/*`ï¼‰ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚**

ç†ç”±ï¼š
- Astroã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¯é™çš„ã‚µã‚¤ãƒˆã¨ã—ã¦å‹•ä½œ
- `locals.runtime.env`ï¼ˆD1ãƒã‚¤ãƒ³ãƒ‰ï¼‰ãŒåˆ©ç”¨ã§ããªã„
- API Routesã¯ç©ºã®é…åˆ—ã‚’è¿”ã™

## âœ… è§£æ±ºæ–¹æ³•: wrangler pages dev ã‚’ä½¿ç”¨

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ“ãƒ«ãƒ‰

```bash
cd apps/internal-site
npm run build
```

### ã‚¹ãƒ†ãƒƒãƒ—2: wrangler pages dev ã§èµ·å‹•

```bash
# package.jsonã«è¿½åŠ æ¸ˆã¿ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨
npm run dev:local

# ã¾ãŸã¯ç›´æ¥å®Ÿè¡Œ
wrangler pages dev dist --config ../../wrangler.internal.toml --local
```

ã“ã‚Œã§ã€ãƒ­ãƒ¼ã‚«ãƒ«D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã—ã¦APIãŒå‹•ä½œã—ã¾ã™ã€‚

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿æŠ•å…¥æ¸ˆã¿

- âœ… ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æŠ•å…¥æ¸ˆã¿ï¼ˆ`database/d1/seed-sample.sql`ï¼‰
  - ã‚«ãƒ†ã‚´ãƒª: 3ä»¶ï¼ˆã‚¹ã‚­ãƒ³ã‚±ã‚¢ã€åŒ»ç™‚è„±æ¯›ã€ã‚¢ãƒ¼ãƒˆãƒ¡ã‚¤ã‚¯ï¼‰
  - ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª: 3ä»¶
  - æ–½è¡“: 3ä»¶
  - æ–™é‡‘ãƒ—ãƒ©ãƒ³: 4ä»¶

## ğŸ”„ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### UIé–‹ç™ºæ™‚
```bash
npm run dev  # é«˜é€Ÿãªãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã€UIç¢ºèªç”¨
```

### APIå‹•ä½œç¢ºèªæ™‚
```bash
npm run build
npm run dev:local  # wrangler pages devã€D1ä½¿ç”¨å¯èƒ½
```

## ğŸ’¡ ä»Šå¾Œã®æ”¹å–„æ¡ˆ

1. **ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ¼ãƒ‰**: `npm run dev`ã§ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
2. **é–‹ç™ºç”¨ãƒ—ãƒ­ã‚­ã‚·**: APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’`wrangler pages dev`ã«ãƒ—ãƒ­ã‚­ã‚·
3. **Viteãƒ—ãƒ©ã‚°ã‚¤ãƒ³**: é–‹ç™ºæ™‚ã«D1ã‚’ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ

