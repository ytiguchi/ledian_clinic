# D1ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå®Œäº†

## âœ… å®Ÿè¡Œå®Œäº†

**å®Ÿè¡Œæ—¥æ™‚**: 2024-12-24  
**å¯¾è±¡ç’°å¢ƒ**: internal staging (preview)  
**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: `ledian-internal-prod` (preview: 86b12d9e-8578-4f08-a49b-9d8be919f486)

## ğŸ“‹ é©ç”¨ã•ã‚ŒãŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

1. âœ… `001_init.sql` - åŸºæœ¬ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆäº‹å‰ã«é©ç”¨æ¸ˆã¿ï¼‰
2. âœ… `002_add_before_afters.sql` - ç—‡ä¾‹å†™çœŸãƒ†ãƒ¼ãƒ–ãƒ«
3. âœ… `003_add_campaigns.sql` - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«

## ğŸ¯ ä½œæˆã•ã‚ŒãŸãƒ†ãƒ¼ãƒ–ãƒ«

### 002_add_before_afters.sql
- `treatment_before_afters` - ç—‡ä¾‹å†™çœŸï¼ˆBefore/Afterï¼‰

### 003_add_campaigns.sql
- `campaigns` - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒã‚¹ã‚¿ãƒ¼
- `campaign_plans` - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³Ã—ãƒ—ãƒ©ãƒ³ç´ä»˜ã‘

## ğŸ“Š ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒåˆ©ç”¨å¯èƒ½ã§ã™ï¼š

### åŸºæœ¬ãƒ†ãƒ¼ãƒ–ãƒ«
- `categories` - ã‚«ãƒ†ã‚´ãƒª
- `subcategories` - ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª
- `treatments` - æ–½è¡“
- `treatment_plans` - æ–™é‡‘ãƒ—ãƒ©ãƒ³
- `treatment_options` - ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- `medications` - è–¬å‰¤
- `medication_plans` - è–¬å‰¤ãƒ—ãƒ©ãƒ³

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ†ãƒ¼ãƒ–ãƒ«
- `treatment_before_afters` - ç—‡ä¾‹å†™çœŸ

### ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«
- `campaigns` - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³
- `campaign_plans` - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³Ã—ãƒ—ãƒ©ãƒ³

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **APIå‹•ä½œç¢ºèª**
   - `/api/categories` - ã‚«ãƒ†ã‚´ãƒªä¸€è¦§
   - `/api/pricing` - æ–™é‡‘ãƒ—ãƒ©ãƒ³ä¸€è¦§
   - `/api/before-afters` - ç—‡ä¾‹å†™çœŸä¸€è¦§
   - `/api/campaigns` - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä¸€è¦§

2. **ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æŠ•å…¥**ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
   - æ—¢å­˜ã®PostgreSQLãƒ‡ãƒ¼ã‚¿ã‹ã‚‰D1ã¸ã®ç§»è¡Œ
   - ã¾ãŸã¯ã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥

3. **Productionç’°å¢ƒã¸ã®é©ç”¨**ï¼ˆæº–å‚™ãŒã§ããŸã‚‰ï¼‰
   ```bash
   ./database/d1/migrate.sh internal prod
   ```

## âš ï¸ æ³¨æ„äº‹é …

- ç¾åœ¨ã¯ **staging (preview)** ç’°å¢ƒã«ã®ã¿é©ç”¨ã•ã‚Œã¦ã„ã¾ã™
- productionç’°å¢ƒã¸ã®é©ç”¨ã¯ã€ååˆ†ãªãƒ†ã‚¹ãƒˆå¾Œã«å®Ÿæ–½ã—ã¦ãã ã•ã„
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ä¸€åº¦å®Ÿè¡Œã™ã‚‹ã¨ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ãã¾ã›ã‚“

